(this.webpackJsonp=this.webpackJsonp||[]).push([["cc-promotion-extension"],{"/GaO":function(t,e,i){"use strict";i.r(e);var o=i("h6Cc"),s=i.n(o);const{Component:l}=Shopware,{EntityCollection:n}=Shopware.Data;l.extend("cc-entity-multi-select","sw-entity-multi-select",{template:s.a,computed:{selectToggleClass(){return this.currentCollection&&this.resultCollection&&this.currentCollection.length===this.resultCollection.length?"small-default-checkmark-square":"small-default-square"}},methods:{isExpanded(){return!(!this.$refs.selectBase||this.isLoading||!this.resultCollection||!this.resultCollection.length)&&this.$refs.selectBase.expanded},selectToggle(){if(!this.resultCollection||!this.resultCollection.length)return;const t=this.currentCollection&&this.currentCollection.length===this.resultCollection.length?this.unselectAll():this.selectAll();this.emitChanges(t),this.$refs.selectionList.focus(),this.$refs.selectionList.select()},selectAll(){const t=n.fromCollection(this.currentCollection);return this.resultCollection.forEach(e=>{this.isSelected(e)||(this.$emit("item-add",e),t.add(e))}),t},unselectAll(){return this.resultCollection.forEach(t=>{this.isSelected(t)&&this.$emit("item-remove",t)}),n.fromCollection([])}}});var c=i("oMnE"),r=i.n(c);i("GK/A");const{Component:a}=Shopware,{Criteria:h}=Shopware.Data,u=Shopware.Utils.types;a.override("sw-promotion-basic-form",{template:r.a,data:()=>({limit:500}),computed:{exclusionCriteria(){const t=this.$super("exclusionCriteria");return t.setLimit(this.limit),t}},methods:{loadExclusions(){if(u.isEmpty(this.promotion.exclusionIds))return void(this.excludedPromotions=this.createPromotionCollection());const t=this.repositoryFactory.create("promotion"),e=new h(1,this.limit).addFilter(h.equalsAny("id",this.promotion.exclusionIds));t.search(e,Shopware.Context.api).then(t=>{this.excludedPromotions=t})}}})},"GK/A":function(t,e,i){var o=i("VQ3t");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,i("SZ7m").default)("15b2874d",o,!0,{})},VQ3t:function(t,e,i){},h6Cc:function(t,e){t.exports='{% block sw_entity_multi_select_base_selection_slot %}\n    {% parent %}\n    <div class="sw-select__selection-indicators is--select-all">\n        <sw-icon v-if="isExpanded()" @click="selectToggle" class="sw-select__select-indicator" :name="selectToggleClass" small></sw-icon>\n    </div>\n{% endblock %}'},oMnE:function(t,e){t.exports='{% block sw_promotion_basic_form_exclusions %}\n    <cc-entity-multi-select\n            v-if="excludedPromotions"\n            class="sw-promotion-basic__select-exclusions test"\n            :label="$tc(\'sw-promotion.detail.main.general.labelPromotionExclusions\')"\n            :placeholder="$tc(\'sw-promotion.detail.main.general.placeholderPromotionExclusions\')"\n            :criteria="exclusionCriteria"\n            :entityCollection="excludedPromotions"\n            :disabled="!acl.can(\'promotion.editor\')"\n            :resultLimit="limit"\n            @change="onChangeExclusions">\n    </cc-entity-multi-select>\n{% endblock %}'}},[["/GaO","runtime","vendors-node"]]]);